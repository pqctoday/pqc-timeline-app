import React from 'react'
import { VULNERABILITY_MATRIX } from '../data/algorithmVulnerabilities'

export const AlgorithmVulnerabilityMatrix: React.FC = () => {
  return (
    <div className="space-y-6">
      <div>
        <h3 className="text-lg font-bold text-foreground mb-2">Algorithm Vulnerability Matrix</h3>
        <p className="text-sm text-muted-foreground">
          How each algorithm family is affected by Shor&apos;s and Grover&apos;s quantum algorithms.
        </p>
      </div>

      <div className="overflow-x-auto">
        <table className="w-full text-sm border-collapse min-w-[700px]">
          <thead>
            <tr className="border-b-2 border-border">
              <th className="text-left p-3 text-muted-foreground font-medium">Algorithm</th>
              <th className="text-center p-3 text-muted-foreground font-medium">
                Shor&apos;s Impact
              </th>
              <th className="text-center p-3 text-muted-foreground font-medium">
                Grover&apos;s Impact
              </th>
              <th className="text-left p-3 text-muted-foreground font-medium">
                Quantum Best Attack
              </th>
              <th className="text-left p-3 text-muted-foreground font-medium">Recommendation</th>
            </tr>
          </thead>
          <tbody>
            {VULNERABILITY_MATRIX.map((entry) => (
              <tr key={entry.algorithm} className="border-b border-border/50 hover:bg-muted/30">
                <td className="p-3 font-medium text-foreground">{entry.algorithm}</td>
                <td className="p-3 text-center">
                  {entry.shorsImpact === 'broken' ? (
                    <span className="text-xs px-2 py-0.5 rounded bg-destructive/10 text-destructive border border-destructive/20 font-bold">
                      BROKEN
                    </span>
                  ) : (
                    <span className="text-xs text-muted-foreground">N/A</span>
                  )}
                </td>
                <td className="p-3 text-center">
                  {entry.groversImpact === 'weakened' ? (
                    <span className="text-xs px-2 py-0.5 rounded bg-warning/10 text-warning border border-warning/20 font-bold">
                      WEAKENED
                    </span>
                  ) : (
                    <span className="text-xs text-muted-foreground">N/A</span>
                  )}
                </td>
                <td className="p-3 text-xs text-muted-foreground">{entry.quantumBestAttack}</td>
                <td className="p-3 text-xs text-foreground/80">{entry.recommendation}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>

      {/* Legend */}
      <div className="flex flex-wrap gap-4 text-xs">
        <div className="flex items-center gap-2">
          <span className="px-2 py-0.5 rounded bg-destructive/10 text-destructive border border-destructive/20 font-bold">
            BROKEN
          </span>
          <span className="text-muted-foreground">
            Zero post-quantum security (Shor&apos;s solves in polynomial time)
          </span>
        </div>
        <div className="flex items-center gap-2">
          <span className="px-2 py-0.5 rounded bg-warning/10 text-warning border border-warning/20 font-bold">
            WEAKENED
          </span>
          <span className="text-muted-foreground">
            Security bits halved (Grover&apos;s quadratic speedup)
          </span>
        </div>
        <div className="flex items-center gap-2">
          <span className="text-muted-foreground">N/A</span>
          <span className="text-muted-foreground">Algorithm not affected by this attack type</span>
        </div>
      </div>
    </div>
  )
}
